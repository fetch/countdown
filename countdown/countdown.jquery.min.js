// Countdown, a Counter and Countdown plugin for jQuery
// by Koen Punt for Fetch!, http://www.fetch.nl
// 
// Version 0.1.2
// Full source at https://github.com/fetch/countdown
// Copyright (c) 2012 Fetch! http://www.fetch.nl

// MIT License, https://github.com/fetch/countdown/blob/master/LICENSE.md
// This file is generated by `cake build`, do not edit it by hand.
(function(){var Countdown,__slice=[].slice;$.fn.extend({countdown:function(){var a,b;return b=arguments[0],a=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var c;c=$(this).data("countdown");if(!c)return $(this).data("countdown",new Countdown(this,b));if(c[b])return c[b].apply(c,a)})}}),Countdown=function(){function Countdown(a,b){this.jq_elem=$(a),this.value=0,this.options=$.extend({},Countdown.defaults,this.jq_elem.data(),b),this.buildHtml(),this.parseOptions()}return Countdown.defaults={placeholder:"-",duration:1e3,digits:8,min:null,max:null,easing:function(a,b,c,d,e){return d*b/e+c}},Countdown.prototype.parseOptions=function(){this.options.number!=null&&this.setValue(this.options.number);if(this.options.animateTo!=null)return this.animateTo(this.options.animateTo)},Countdown.prototype.buildHtml=function(){var a,b;b=0,a=[];while(b<this.options.digits)a.push('<span class="digit digit-'+b+'">'+this.options.placeholder+"</span>"),b++;return this.jq_elem.append(a.join("\n"))},Countdown.prototype.animateTo=function(value){var animationStep,difference,duration,startTime,time,_this=this;return startTime=(new Date).getTime(),time=0,typeof value=="string"?this.targetValue=(this.targetValue||0)+eval(value):this.targetValue=value,this.options.max!=null&&this.targetValue>this.options.max&&(this.jq_elem.trigger("countdown:limit",{value:this.targetValue,limit:"max",limited_to:this.options.max}),this.targetValue=this.options.max),this.options.min!=null&&this.targetValue<this.options.min&&(this.jq_elem.trigger("countdown:limit",{value:this.targetValue,limit:"min",limited_to:this.options.min}),this.targetValue=this.options.min),difference=this.targetValue-this.value,duration=this.options.duration,this.oldValue=this.value,animationStep=function(){var a;return time+=10,a=(new Date).getTime()-startTime-time,_this.setValue(Math.round(_this.options.easing(null,time,_this.oldValue,difference,duration))),time<_this.options.duration?_this.timeout=setTimeout(animationStep,10-a):_this.jq_elem.trigger("countdown:finished",{old_value:_this.oldValue,value:_this.value})},this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(animationStep,10)},Countdown.prototype.stop=function(){if(this.timeout)return clearTimeout(this.timeout),this.jq_elem.trigger("countdown:stopped",{old_value:this.oldValue,value:this.value}),delete this.timeout},Countdown.prototype.setValue=function(a){var b=this;return this.value=a,a=a.toString().lpad("0",this.options.digits).split(""),$(".digit",this.jq_elem).each(function(b,c){return $(c).text(a[b])})},Countdown.prototype.setOption=function(a,b){return this.options[a]=b},Countdown}(),typeof String.prototype.lpad!="function"&&(String.prototype.lpad=function(a,b){var c;c=this;while(c.length<b)c=a+c;return c})}).call(this);