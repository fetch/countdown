/**
 * Countdown, a Counter and Countdown plugin for jQuery
 * by Koen Punt for Fetch!, http://www.fetch.nl
 *
 * Version 0.1.3
 * Full source at https://github.com/fetch/countdown
 * Copyright (c) 2014 Fetch! http://www.fetch.nl
 *
 * MIT License, https://github.com/fetch/countdown/blob/master/LICENSE.md
 */
(function(){var Countdown,__slice=[].slice;$.fn.extend({countdown:function(){var a,b;return b=arguments[0],a=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var c;return c=$(this).data("countdown"),c?c[b]?c[b].apply(c,a):void 0:$(this).data("countdown",new Countdown(this,b))})}}),Countdown=function(){function Countdown(a,b){this.jq_elem=$(a),this.value=0,this.options=$.extend({},Countdown.defaults,this.jq_elem.data(),b),this.buildHtml(),this.parseOptions()}return Countdown.defaults={placeholder:"-",duration:1e3,digits:8,min:null,max:null,easing:function(a,b,c,d,e){return d*b/e+c}},Countdown.prototype.parseOptions=function(){return null!=this.options.number&&this.setValue(this.options.number),null!=this.options.animateTo?this.animateTo(this.options.animateTo):void 0},Countdown.prototype.buildHtml=function(){var a,b;for(b=0,a=[];b<this.options.digits;)a.push('<span class="digit digit-'+b+'">'+this.options.placeholder+"</span>"),b++;return this.jq_elem.append(a.join("\n"))},Countdown.prototype.animateTo=function(value){var animationStep,difference,duration,startTime,time;return startTime=(new Date).getTime(),time=0,this.targetValue="string"==typeof value?/^\d+$/.test(value)?value:(this.targetValue||0)+eval(value):value,null!=this.options.max&&this.targetValue>this.options.max&&(this.jq_elem.trigger("countdown:limit",{value:this.targetValue,limit:"max",limited_to:this.options.max}),this.targetValue=this.options.max),null!=this.options.min&&this.targetValue<this.options.min&&(this.jq_elem.trigger("countdown:limit",{value:this.targetValue,limit:"min",limited_to:this.options.min}),this.targetValue=this.options.min),difference=this.targetValue-this.value,duration=this.options.duration,this.oldValue=this.value,animationStep=function(a){return function(){var b;return time+=10,b=(new Date).getTime()-startTime-time,a.setValue(Math.round(a.options.easing(null,time,a.oldValue,difference,duration))),time<a.options.duration?a.timeout=setTimeout(animationStep,10-b):a.jq_elem.trigger("countdown:finished",{old_value:a.oldValue,value:a.value})}}(this),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(animationStep,10)},Countdown.prototype.stop=function(){return this.timeout?(clearTimeout(this.timeout),this.jq_elem.trigger("countdown:stopped",{old_value:this.oldValue,value:this.value}),delete this.timeout):void 0},Countdown.prototype.setValue=function(a){return this.value=a,a=a.toString().lpad("0",this.options.digits).split(""),$(".digit",this.jq_elem).each(function(){return function(b,c){return $(c).text(a[b])}}(this))},Countdown.prototype.setOption=function(a,b){return this.options[a]=b},Countdown}(),"function"!=typeof String.prototype.lpad&&(String.prototype.lpad=function(a,b){var c;for(c=this;c.length<b;)c=a+c;return c})}).call(this);