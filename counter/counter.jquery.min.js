// Counter, a Count Down plugin for jQuery and Protoype
// by Koen Punt for Fetch!, http://www.fetch.nl
// 
// Version 0.1.0
// Full source at https://github.com/FetchNL/counter
// Copyright (c) 2012 Fetch! http://www.fetch.nl

// MIT License, https://github.com/FetchNL/counter/blob/master/LICENSE.md
// This file is generated by `cake build`, do not edit it by hand.
(function(){var Counter,__slice=[].slice;$.fn.extend({counter:function(){var a,b;return b=arguments[0],a=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var c;c=$(this).data("counter");if(!c)return $(this).data("counter",new Counter(this,b));if(c[b])return c[b].apply(c,a)})}}),Counter=function(){function Counter(a,b){this.jq_elem=$(a),this.value=0,this.options=$.extend({},Counter.defaults,this.jq_elem.data(),b),this.buildHtml(),this.parseOptions()}return Counter.defaults={placeholder:"-",duration:1e3,digits:8,easing:function(a,b,c,d,e){return d*b/e+c}},Counter.prototype.parseOptions=function(){this.options.number!=null&&this.setValue(this.options.number);if(this.options.animateTo!=null)return this.animateTo(this.options.animateTo)},Counter.prototype.buildHtml=function(){var a,b;b=0,a=[];while(b<this.options.digits)a.push('<span class="digit digit-'+b+'">'+this.options.placeholder+"</span>"),b++;return this.jq_elem.append(a.join("\n"))},Counter.prototype.animateTo=function(value){var animationStep,difference,duration,startTime,time,_this=this;return startTime=(new Date).getTime(),time=0,typeof value=="string"?this.targetValue=(this.targetValue||0)+eval(value):this.targetValue=value,difference=this.targetValue-this.value,duration=this.options.duration,this.oldValue=this.value,animationStep=function(){var a;return time+=10,a=(new Date).getTime()-startTime-time,_this.setValue(Math.round(_this.options.easing(null,time,_this.oldValue,difference,duration))),time<_this.options.duration?_this.timeout=setTimeout(animationStep,10-a):_this.jq_elem.trigger("counter:finished",{old_value:_this.oldValue,value:_this.value})},this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(animationStep,10)},Counter.prototype.stop=function(){if(this.timeout)return clearTimeout(this.timeout),this.jq_elem.trigger("counter:stopped",{old_value:this.oldValue,value:this.value}),delete this.timeout},Counter.prototype.setValue=function(a){var b,c=this;return this.value=a,b="0",a=a.toString().lpad(b,this.options.digits).split(""),$(".digit",this.jq_elem).each(function(b,c){return $(c).text(a[b])})},Counter.prototype.setOption=function(a,b){return this.options[a]=b},Counter}(),typeof String.prototype.lpad!="function"&&(String.prototype.lpad=function(a,b){var c;c=this;while(c.length<b)c=a+c;return c})}).call(this);